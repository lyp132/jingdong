{
    "sourceFile": "src/views/addressSelect/AddressSelect.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1690261613449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1690263929856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n       </div>\r\n     </div>\r\n   </div>\r\n </template>\r\n-  <script>\r\n+<script>\r\n import { reactive, toRefs } from 'vue'\r\n import { useRouter } from 'vue-router'\r\n import { get } from '../../utils/request'\r\n \r\n"
                },
                {
                    "date": 1690265934921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <template>\r\n   <div class=\"wrapper\">\r\n     <div class=\"top\">\r\n       <span class=\"top__icon iconfont\" @click=\"handleBackClick\">&#xe601;</span>\r\n-      <span class=\"top__des\">管理收货地址</span>\r\n+      <span class=\"top__des\">地址选择</span>\r\n       <router-link to=\"/addressEdit\">\r\n         <span class=\"top__newbuilt\">新建</span>\r\n       </router-link>\r\n     </div>\r\n"
                }
            ],
            "date": 1690261613449,
            "name": "Commit-0",
            "content": "<template>\r\n    <div class=\"wrapper\">\r\n      <div class=\"top\">\r\n        <span class=\"top__icon iconfont\" @click=\"handleBackClick\">&#xe601;</span>\r\n        <span class=\"top__des\">管理收货地址</span>\r\n        <router-link to=\"/addressEdit\">\r\n          <span class=\"top__newbuilt\">新建</span>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"address\">\r\n        <div class=\"address__title\">我的收货地址</div>\r\n        <div class=\"myAddress\" v-for=\"item in addressList\" :key=\"item._id\">\r\n          <div class=\"myAddress__left\">\r\n            <div class=\"myAddress__left__top\">\r\n              <span class=\"myAddress__left__top__name\">{{ item.name }}</span>\r\n              <span class=\"myAddress__left__top__phone\">{{ item.phone }}</span>\r\n            </div>\r\n            <span class=\"myAddress__left__detail\"\r\n              >{{ item.city }}市 {{ item.department }}{{ item.houseNumber }}\r\n            </span>\r\n          </div>\r\n          <div class=\"myAddress__right\">\r\n            <span class=\"iconfont\" @click=\"handleAddressClick(item._id)\">&#xe601;</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  <script>\r\n  import { reactive, toRefs } from 'vue'\r\n  import { useRouter } from 'vue-router'\r\n  import { get } from '../../utils/request'\r\n  \r\n  // 跳转相关逻辑\r\n  const useJumpEffect = () => {\r\n    const router = useRouter()\r\n    const handleBackClick = () => {\r\n      router.back()\r\n    }\r\n    const handleAddressClick = (id) => {\r\n      router.push(`/addressEdit?id=${id}`)\r\n    }\r\n    return { handleBackClick, handleAddressClick }\r\n  }\r\n  // 地址数据获取逻辑\r\n  const useAddressListEffect = () => {\r\n    const addressdata = reactive({ addressList: [] })\r\n    const getAddressList = async () => {\r\n      const result = await get('/api/user/address')\r\n  \r\n      if (result?.errno === 0 && result?.data?.length) {\r\n        addressdata.addressList = result.data\r\n      }\r\n    }\r\n    getAddressList()\r\n    const { addressList } = toRefs(addressdata)\r\n    console.log(addressList)\r\n    return { addressList }\r\n  }\r\n  export default {\r\n    name: 'MyAddressList',\r\n    setup() {\r\n      const { handleBackClick, handleAddressClick } = useJumpEffect()\r\n      const { addressList } = useAddressListEffect()\r\n      return { handleBackClick, handleAddressClick, addressList }\r\n    }\r\n  }\r\n  </script>\r\n  <style lang=\"scss\" scoped>\r\n  .wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0.5rem;\r\n    left: 0;\r\n    background-color: #f8f8f8;\r\n  }\r\n  .top {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 0.44rem;\r\n    background-color: #fff;\r\n    font-size: 0.16rem;\r\n    color: #333;\r\n    a {\r\n      text-decoration: none;\r\n    }\r\n    &__icon {\r\n      margin-left: 0.18rem;\r\n      font-size: 0.2rem;\r\n      color: #b6b6b6;\r\n    }\r\n    &__des {\r\n      flex: 1;\r\n      text-align: center;\r\n    }\r\n    &__newbuilt {\r\n      margin-right: 0.18rem;\r\n    }\r\n  }\r\n  .address {\r\n    margin: 0 0.18rem;\r\n    &__title {\r\n      margin: 0.16rem 0 0.12rem 0;\r\n      font-size: 0.14rem;\r\n      line-height: 0.2rem;\r\n      color: #333;\r\n    }\r\n  }\r\n  .myAddress {\r\n    display: flex;\r\n    background-color: #fff;\r\n    margin-bottom: 0.18rem;\r\n    border-radius: 0.04rem;\r\n    align-items: center;\r\n    &__left {\r\n      flex: 1;\r\n      margin-left: 0.16rem;\r\n      margin-bottom: 0.18rem;\r\n      &__top {\r\n        margin: 0.18rem 0 0.08rem 0;\r\n        color: #999;\r\n        display: flex;\r\n        &__name {\r\n          flex: 1;\r\n        }\r\n        &__phone {\r\n          flex: 1;\r\n        }\r\n      }\r\n      &__detail {\r\n        font-size: 0.14rem;\r\n        line-break: 0.2rem;\r\n        color: #333;\r\n      }\r\n    }\r\n    &__right {\r\n      transform: rotate(180deg);\r\n      text-align: center;\r\n      margin-right: 0.16rem;\r\n      margin-left: 0.4rem;\r\n    }\r\n  }\r\n  </style>\r\n  "
        }
    ]
}