{
    "sourceFile": "src/store/index.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 105,
            "patches": [
                {
                    "date": 1686103368769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1686103413736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,26 @@\n   state: {\n     cartList: {\n       shopId: {\n         productId: {\n-          \n+          imgUrl\n+: \n+\"http://www.dell-lee.com/imgs/vue3/tomato.png\"\n+name\n+: \n+\"番茄 250g / 份\"\n+oldPrice\n+: \n+39.6\n+price\n+: \n+33.6\n+sales\n+: \n+10\n+_id\n+: \n+\"1\"\n         }\n       }\n     }\n   },\n"
                },
                {
                    "date": 1686103419245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,26 +4,9 @@\n   state: {\n     cartList: {\n       shopId: {\n         productId: {\n-          imgUrl\n-: \n-\"http://www.dell-lee.com/imgs/vue3/tomato.png\"\n-name\n-: \n-\"番茄 250g / 份\"\n-oldPrice\n-: \n-39.6\n-price\n-: \n-33.6\n-sales\n-: \n-10\n-_id\n-: \n-\"1\"\n+          \n         }\n       }\n     }\n   },\n"
                },
                {
                    "date": 1686103444591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,17 @@\n   state: {\n     cartList: {\n       shopId: {\n         productId: {\n-          \n+          _id: '1',\n+          name: '番茄250g/份',\n+          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+          sales: 10,\n+          price: 33.6,\n+          oldPrice: 39.6,\n+          count: 2\n         }\n+        }\n       }\n     }\n   },\n   getters: {\n"
                },
                {
                    "date": 1686103480704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n           count: 2\n         }\n         }\n       }\n-    }\n+    \n   },\n   getters: {\n   },\n   mutations: {\n"
                },
                {
                    "date": 1686103487781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n           count: 2\n         }\n         }\n       }\n-    \n+  }\n   },\n   getters: {\n   },\n   mutations: {\n"
                },
                {
                    "date": 1686103496265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,27 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      shopId: {\n+        productId: {\n+          _id: '1',\n+          name: '番茄250g/份',\n+          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+          sales: 10,\n+          price: 33.6,\n+          oldPrice: 39.6,\n+          count: 2\n+        }\n+        }\n+      }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686103540874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,32 +24,4 @@\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      shopId: {\n-        productId: {\n-          _id: '1',\n-          name: '番茄250g/份',\n-          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-          sales: 10,\n-          price: 33.6,\n-          oldPrice: 39.6,\n-          count: 2\n-        }\n-        }\n-      }\n-  }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1686103562639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,27 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      shopId: {\n+        productId: {\n+          _id: '1',\n+          name: '番茄250g/份',\n+          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+          sales: 10,\n+          price: 33.6,\n+          oldPrice: 39.6,\n+          count: 2\n+        }\n+        },\n+      },\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686103741236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,20 +2,23 @@\n \n export default createStore({\n   state: {\n     cartList: {\n-      shopId: {\n-        productId: {\n-          _id: '1',\n-          name: '番茄250g/份',\n-          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-          sales: 10,\n-          price: 33.6,\n-          oldPrice: 39.6,\n-          count: 2\n-        }\n-        },\n-      },\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n   },\n   getters: {\n   },\n   mutations: {\n@@ -24,31 +27,4 @@\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      shopId: {\n-        productId: {\n-          _id: '1',\n-          name: '番茄250g/份',\n-          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-          sales: 10,\n-          price: 33.6,\n-          oldPrice: 39.6,\n-          count: 2\n-        }\n-        }\n-      }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1686105639437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,8 +21,12 @@\n   },\n   getters: {\n   },\n   mutations: {\n+    addItemToCart(state, payload) {\n+      console.log(state)\n+      console.log(payload)\n+    }\n   },\n   actions: {\n   },\n   modules: {\n"
                },
                {
                    "date": 1686106383318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n   getters: {\n   },\n   mutations: {\n     addItemToCart(state, payload) {\n+      const {}\n       console.log(state)\n       console.log(payload)\n     }\n   },\n"
                },
                {
                    "date": 1686106423870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n   getters: {\n   },\n   mutations: {\n     addItemToCart(state, payload) {\n-      const {}\n+      const { shopId, productId, productInfo } = payload\n       console.log(state)\n       console.log(payload)\n     }\n   },\n"
                },
                {
                    "date": 1686114371083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,11 @@\n   },\n   mutations: {\n     addItemToCart(state, payload) {\n       const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if()\n+      state.cartList[shopId] = shopInfo\n       console.log(state)\n       console.log(payload)\n     }\n   },\n"
                },
                {
                    "date": 1686115288592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,12 @@\n   mutations: {\n     addItemToCart(state, payload) {\n       const { shopId, productId, productInfo } = payload\n       let shopInfo = state.cartList[shopId]\n-      if()\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      \n       state.cartList[shopId] = shopInfo\n       console.log(state)\n       console.log(payload)\n     }\n"
                },
                {
                    "date": 1686116740557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,15 @@\n       let shopInfo = state.cartList[shopId]\n       if (!shopInfo) {\n         shopInfo = {}\n       }\n-      \n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n       console.log(state)\n       console.log(payload)\n     }\n"
                },
                {
                    "date": 1686117335898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,46 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+      console.log(shopInfo)\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686117398284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,9 @@\n       if (!shopInfo) {\n         shopInfo = {}\n       }\n       let product = shopInfo[productId]\n+      console.log(product)\n       if (!product) {\n         product = productInfo\n         product.count = 0\n       }\n@@ -43,51 +44,4 @@\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-      console.log(state)\n-      console.log(payload)\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1686117495744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,47 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      console.log(product)\n+      console.log(shopInfo)\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686117536635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,48 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      console.log(product)\n+      console.log(shopInfo)\n+      console.log(state.cartList)\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686118173261,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,45 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686118802230,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,153 +35,14 @@\n       }\n       product.count += 1\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const {}\n     }\n   },\n   actions: {\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      console.log(product)\n-      console.log(shopInfo)\n-      console.log(state.cartList)\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      console.log(product)\n-      console.log(shopInfo)\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      console.log(product)\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-      console.log(shopInfo)\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1686118940190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,11 @@\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     },\n     minusItemToCart(state, payload) {\n-      const {}\n+      const { shopId, productId, productInfo } = payload\n+      state.cartList.[shopId].[productId].count -= 1\n+\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686118996834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,50 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      state.cartList.shopId.productId.count -= 1\n+\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119030690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,49 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      state.cartList[shopId][productId].count -= 1\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119418197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,51 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      if (state.cartList[shopId][productId].count === 1){\n+        state.cartList[shopId][productId].count -= 1\n+      } \n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119463357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,53 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      if (state.cartList[shopId][productId].count === 1) {\n+        state.cartList[shopId][productId].count = 0\n+      } else {\n+        state.cartList[shopId][productId].count -= 1\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119473572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,53 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      if (state.cartList[shopId][productId].count === '1') {\n+        state.cartList[shopId][productId].count = 0\n+      } else {\n+        state.cartList[shopId][productId].count -= 1\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119500656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,53 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      if (state.cartList[shopId][productId].count == 1) {\n+        state.cartList[shopId][productId].count = 0\n+      } else {\n+        state.cartList[shopId][productId].count -= 1\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119529896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,53 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      if (state.cartList[shopId][productId].count === 1) {\n+        state.cartList[shopId][productId].count = 0\n+      } else {\n+        state.cartList[shopId][productId].count -= 1\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686119578887,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,53 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      if (state.cartList[shopId][productId].count === 0) {\n+        state.cartList[shopId][productId].count = 0\n+      } else {\n+        state.cartList[shopId][productId].count -= 1\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686120013096,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,55 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    addItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += 1\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    minusItemToCart(state, payload) {\n+      const { shopId, productId, productInfo } = payload\n+      let num = state.cartList[shopId][productId].count\n+      if (num === 0) {\n+        num = 0\n+      } else {\n+        num -= 1\n+      }\n+      state.cartList[shopId][productId].count = num\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686121116931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,10 +21,10 @@\n   },\n   getters: {\n   },\n   mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n+    changeCartItemInfo(state, payload) {\n+      const { shopId, productId, productInfo, num } = payload\n       let shopInfo = state.cartList[shopId]\n       if (!shopInfo) {\n         shopInfo = {}\n       }\n@@ -32,489 +32,14 @@\n       if (!product) {\n         product = productInfo\n         product.count = 0\n       }\n-      product.count += 1\n+      product.count + num\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let num = state.cartList[shopId][productId].count\n-      if (num === 0) {\n-        num = 0\n-      } else {\n-        num -= 1\n-      }\n-      state.cartList[shopId][productId].count = num\n     }\n   },\n   actions: {\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      if (state.cartList[shopId][productId].count === 0) {\n-        state.cartList[shopId][productId].count = 0\n-      } else {\n-        state.cartList[shopId][productId].count -= 1\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      if (state.cartList[shopId][productId].count === 1) {\n-        state.cartList[shopId][productId].count = 0\n-      } else {\n-        state.cartList[shopId][productId].count -= 1\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      if (state.cartList[shopId][productId].count == 1) {\n-        state.cartList[shopId][productId].count = 0\n-      } else {\n-        state.cartList[shopId][productId].count -= 1\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      if (state.cartList[shopId][productId].count === '1') {\n-        state.cartList[shopId][productId].count = 0\n-      } else {\n-        state.cartList[shopId][productId].count -= 1\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      if (state.cartList[shopId][productId].count === 1) {\n-        state.cartList[shopId][productId].count = 0\n-      } else {\n-        state.cartList[shopId][productId].count -= 1\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      if (state.cartList[shopId][productId].count === 1){\n-        state.cartList[shopId][productId].count -= 1\n-      } \n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      state.cartList[shopId][productId].count -= 1\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      state.cartList.shopId.productId.count -= 1\n-\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    addItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += 1\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    minusItemToCart(state, payload) {\n-      const { shopId, productId, productInfo } = payload\n-      state.cartList.[shopId].[productId].count -= 1\n-\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1686121213229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,12 @@\n       if (!product) {\n         product = productInfo\n         product.count = 0\n       }\n-      product.count + num\n+      product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     }\n   },\n"
                },
                {
                    "date": 1686148649778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,8 +36,9 @@\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n+      \n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     }\n   },\n"
                },
                {
                    "date": 1686149856108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n-      \n+      if (product.num)\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     }\n   },\n"
                },
                {
                    "date": 1686149963885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n-      if (product.num)\n+      if (num > 0) { product.check = true }\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     }\n   },\n"
                },
                {
                    "date": 1686150290367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,8 +39,11 @@\n       }\n       if (num > 0) { product.check = true }\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n+    },\n+    changeCartItemChecked(state, payload) {\n+      const {}\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686150375815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,11 @@\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     },\n     changeCartItemChecked(state, payload) {\n-      const {}\n+      const { shopId, productId } = payload\n+      const product = state.cartList[shopId][productId]\n+      product.check = !product.check\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686209970542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,12 +40,18 @@\n       if (num > 0) { product.check = true }\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     },\n+    // 改变单个商品选中状态\n     changeCartItemChecked(state, payload) {\n       const { shopId, productId } = payload\n       const product = state.cartList[shopId][productId]\n       product.check = !product.check\n+    },\n+    // 清空购物车\n+    cleanCartProducts(state, payload) {\n+      const { shopId } = payload\n+      state.cartList = {}\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686210019568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n       const { shopId } = payload\n-      state.cartList = {}\n+      state.cartList[shopId] = {}\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686210804451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,8 +50,11 @@\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n       const { shopId } = payload\n       state.cartList[shopId] = {}\n+    },\n+    setCartItemsChecked(state, payload) {\n+      \n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686211099690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,13 @@\n       const { shopId } = payload\n       state.cartList[shopId] = {}\n     },\n     setCartItemsChecked(state, payload) {\n-      \n+      const { shopId } = payload\n+      const product = state.cartList[shopId]\n+      for (let i in product) {\n+        product[i] = true\n+      } \n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686211106597,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,11 +54,11 @@\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n       const product = state.cartList[shopId]\n-      for (let i in product) {\n+      for (const i in product) {\n         product[i] = true\n-      } \n+      }\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1686211199558,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,11 +53,13 @@\n       state.cartList[shopId] = {}\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n-      const product = state.cartList[shopId]\n-      for (const i in product) {\n-        product[i] = true\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i] = true\n+        }\n       }\n     }\n   },\n   actions: {\n"
                },
                {
                    "date": 1686211281084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n       const { shopId } = payload\n       const products = state.cartList[shopId]\n       if (products) {\n         for (const i in products) {\n-          products[i] = true\n+          products[i].check = true\n         }\n       }\n     }\n   },\n"
                },
                {
                    "date": 1686213436357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,14 @@\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n       const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = false\n+        }\n+      }\n       state.cartList[shopId] = {}\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n"
                },
                {
                    "date": 1686213443344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,75 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    changeCartItemInfo(state, payload) {\n+      const { shopId, productId, productInfo, num } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n+      if (num > 0) { product.check = true }\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    // 改变单个商品选中状态\n+    changeCartItemChecked(state, payload) {\n+      const { shopId, productId } = payload\n+      const product = state.cartList[shopId][productId]\n+      product.check = !product.check\n+    },\n+    // 清空购物车\n+    cleanCartProducts(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = true\n+        }\n+      }\n+      state.cartList[shopId] = {}\n+    },\n+    setCartItemsChecked(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = true\n+        }\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686213567038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,75 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    changeCartItemInfo(state, payload) {\n+      const { shopId, productId, productInfo, num } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n+      if (num > 0) { product.check = true }\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    // 改变单个商品选中状态\n+    changeCartItemChecked(state, payload) {\n+      const { shopId, productId } = payload\n+      const product = state.cartList[shopId][productId]\n+      product.check = !product.check\n+    },\n+    // 清空购物车\n+    cleanCartProducts(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = false\n+        }\n+      }\n+      state.cartList[shopId] = {}\n+    },\n+    setCartItemsChecked(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = true\n+        }\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686213584620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,14 +49,9 @@\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n       const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = false\n-        }\n-      }\n+      c\n       state.cartList[shopId] = {}\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n@@ -72,154 +67,4 @@\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    changeCartItemInfo(state, payload) {\n-      const { shopId, productId, productInfo, num } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += num\n-      if (product.count < 0) {\n-        product.count = 0\n-      }\n-      if (num > 0) { product.check = true }\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    // 改变单个商品选中状态\n-    changeCartItemChecked(state, payload) {\n-      const { shopId, productId } = payload\n-      const product = state.cartList[shopId][productId]\n-      product.check = !product.check\n-    },\n-    // 清空购物车\n-    cleanCartProducts(state, payload) {\n-      const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = true\n-        }\n-      }\n-      state.cartList[shopId] = {}\n-    },\n-    setCartItemsChecked(state, payload) {\n-      const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = true\n-        }\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    changeCartItemInfo(state, payload) {\n-      const { shopId, productId, productInfo, num } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += num\n-      if (product.count < 0) {\n-        product.count = 0\n-      }\n-      if (num > 0) { product.check = true }\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    // 改变单个商品选中状态\n-    changeCartItemChecked(state, payload) {\n-      const { shopId, productId } = payload\n-      const product = state.cartList[shopId][productId]\n-      product.check = !product.check\n-    },\n-    // 清空购物车\n-    cleanCartProducts(state, payload) {\n-      const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = false\n-        }\n-      }\n-      state.cartList[shopId] = {}\n-    },\n-    setCartItemsChecked(state, payload) {\n-      const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = true\n-        }\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1686213592084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,69 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    changeCartItemInfo(state, payload) {\n+      const { shopId, productId, productInfo, num } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n+      if (num > 0) { product.check = true }\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    // 改变单个商品选中状态\n+    changeCartItemChecked(state, payload) {\n+      const { shopId, productId } = payload\n+      const product = state.cartList[shopId][productId]\n+      product.check = !product.check\n+    },\n+    // 清空购物车\n+    cleanCartProducts(state, payload) {\n+      const { shopId } = payload\n+      state.cartList[shopId] = {}\n+    },\n+    setCartItemsChecked(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = true\n+        }\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686215732046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,69 @@\n+import { createStore } from 'vuex'\n+\n+export default createStore({\n+  state: {\n+    cartList: {\n+      // 第一层级是商铺的id\n+      // shopId: {\n+      // 第二层是商品的id\n+      // 第二层的内容是商品内容以及购物数量\n+      //   productId: {\n+      //     _id: '1',\n+      //     name: '番茄250g/份',\n+      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //     sales: 10,\n+      //     price: 33.6,\n+      //     oldPrice: 39.6,\n+      //     count: 2\n+      //   }\n+      // }\n+    }\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    changeCartItemInfo(state, payload) {\n+      const { shopId, productId, productInfo, num } = payload\n+      let shopInfo = state.cartList[shopId]\n+      if (!shopInfo) {\n+        shopInfo = {}\n+      }\n+      let product = shopInfo[productId]\n+      if (!product) {\n+        product = productInfo\n+        product.count = 0\n+      }\n+      product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n+      if (num > 0) { product.check = true }\n+      shopInfo[productId] = product\n+      state.cartList[shopId] = shopInfo\n+    },\n+    // 改变单个商品选中状态\n+    changeCartItemChecked(state, payload) {\n+      const { shopId, productId } = payload\n+      const product = state.cartList[shopId][productId]\n+      product.check = !product.check\n+    },\n+    // 清空购物车\n+    cleanCartProducts(state, payload) {\n+      // const { shopId } = payload\n+      state.cartList = {}\n+    },\n+    setCartItemsChecked(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = true\n+        }\n+      }\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1686215798728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,78 +48,9 @@\n       product.check = !product.check\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n-      // const { shopId } = payload\n-      state.cartList = {}\n-    },\n-    setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = true\n-        }\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    changeCartItemInfo(state, payload) {\n-      const { shopId, productId, productInfo, num } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += num\n-      if (product.count < 0) {\n-        product.count = 0\n-      }\n-      if (num > 0) { product.check = true }\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    // 改变单个商品选中状态\n-    changeCartItemChecked(state, payload) {\n-      const { shopId, productId } = payload\n-      const product = state.cartList[shopId][productId]\n-      product.check = !product.check\n-    },\n-    // 清空购物车\n-    cleanCartProducts(state, payload) {\n-      const { shopId } = payload\n       state.cartList[shopId] = {}\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n@@ -135,74 +66,4 @@\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-export default createStore({\n-  state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n-    }\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    changeCartItemInfo(state, payload) {\n-      const { shopId, productId, productInfo, num } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n-      }\n-      let product = shopInfo[productId]\n-      if (!product) {\n-        product = productInfo\n-        product.count = 0\n-      }\n-      product.count += num\n-      if (product.count < 0) {\n-        product.count = 0\n-      }\n-      if (num > 0) { product.check = true }\n-      shopInfo[productId] = product\n-      state.cartList[shopId] = shopInfo\n-    },\n-    // 改变单个商品选中状态\n-    changeCartItemChecked(state, payload) {\n-      const { shopId, productId } = payload\n-      const product = state.cartList[shopId][productId]\n-      product.check = !product.check\n-    },\n-    // 清空购物车\n-    cleanCartProducts(state, payload) {\n-      const { shopId } = payload\n-      c\n-      state.cartList[shopId] = {}\n-    },\n-    setCartItemsChecked(state, payload) {\n-      const { shopId } = payload\n-      const products = state.cartList[shopId]\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = true\n-        }\n-      }\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1688805848814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,8 +40,12 @@\n       if (num > 0) { product.check = true }\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     },\n+    // 设置shopname\n+    shangeShopName() {\n+\n+    },\n     // 改变单个商品选中状态\n     changeCartItemChecked(state, payload) {\n       const { shopId, productId } = payload\n       const product = state.cartList[shopId][productId]\n"
                },
                {
                    "date": 1688806106478,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,10 +41,16 @@\n       shopInfo[productId] = product\n       state.cartList[shopId] = shopInfo\n     },\n     // 设置shopname\n-    shangeShopName() {\n-\n+    shangeShopName(state, payload) {\n+      const { shopId, shopName } = payload\n+      const shopInfo = state.cartList[shopId] || {\n+        shopName: '',\n+        productList: {}\n+      }\n+      shopInfo.shopName = shopName\n+      state.cartList[shopId] = shopInfo\n     },\n     // 改变单个商品选中状态\n     changeCartItemChecked(state, payload) {\n       const { shopId, productId } = payload\n"
                },
                {
                    "date": 1688806258476,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n       if (product.count < 0) {\n         product.count = 0\n       }\n       if (num > 0) { product.check = true }\n-      shopInfo[productId] = product\n+      shopInfo.productList[productId] = product\n       state.cartList[shopId] = shopInfo\n     },\n     // 设置shopname\n     shangeShopName(state, payload) {\n"
                },
                {
                    "date": 1688806348435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,13 +23,13 @@\n   },\n   mutations: {\n     changeCartItemInfo(state, payload) {\n       const { shopId, productId, productInfo, num } = payload\n-      let shopInfo = state.cartList[shopId]\n-      if (!shopInfo) {\n-        shopInfo = {}\n+      let shopInfo = state.cartList[shopId] || {\n+        shopName: '',productList: {}\n       }\n-      let product = shopInfo[productId]\n+      \n+      let product = shopInfo.productList[productId]\n       if (!product) {\n         product = productInfo\n         product.count = 0\n       }\n"
                },
                {
                    "date": 1688806409524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,12 +23,11 @@\n   },\n   mutations: {\n     changeCartItemInfo(state, payload) {\n       const { shopId, productId, productInfo, num } = payload\n-      let shopInfo = state.cartList[shopId] || {\n-        shopName: '',productList: {}\n+      const shopInfo = state.cartList[shopId] || {\n+        shopName: '', productList: {}\n       }\n-      \n       let product = shopInfo.productList[productId]\n       if (!product) {\n         product = productInfo\n         product.count = 0\n"
                },
                {
                    "date": 1688806592688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,10 +28,10 @@\n         shopName: '', productList: {}\n       }\n       let product = shopInfo.productList[productId]\n       if (!product) {\n+        product.count = 0\n         product = productInfo\n-        product.count = 0\n       }\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n"
                },
                {
                    "date": 1688806748971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,18 +6,21 @@\n       // 第一层级是商铺的id\n       // shopId: {\n       // 第二层是商品的id\n       // 第二层的内容是商品内容以及购物数量\n-      //   productId: {\n-      //     _id: '1',\n-      //     name: '番茄250g/份',\n-      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //     sales: 10,\n-      //     price: 33.6,\n-      //     oldPrice: 39.6,\n-      //     count: 2\n-      //   }\n-      // }\n+      //   shopName: '',\n+        productList: {\n+          productId: {\n+            _id: '1',\n+            name: '番茄250g/份',\n+            imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+            sales: 10,\n+            price: 33.6,\n+            oldPrice: 39.6,\n+            count: 2\n+          }\n+        }\n+      }\n     }\n   },\n   getters: {\n   },\n"
                },
                {
                    "date": 1688806831565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,23 +4,23 @@\n   state: {\n     cartList: {\n       // 第一层级是商铺的id\n       // shopId: {\n-      // 第二层是商品的id\n-      // 第二层的内容是商品内容以及购物数量\n+      //   // 第二层是商品的id\n+      //   // 第二层的内容是商品内容以及购物数量\n       //   shopName: '',\n-        productList: {\n-          productId: {\n-            _id: '1',\n-            name: '番茄250g/份',\n-            imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-            sales: 10,\n-            price: 33.6,\n-            oldPrice: 39.6,\n-            count: 2\n-          }\n-        }\n-      }\n+      //   productList: {\n+      //     productId: {\n+      //       _id: '1',\n+      //       name: '番茄250g/份',\n+      //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+      //       sales: 10,\n+      //       price: 33.6,\n+      //       oldPrice: 39.6,\n+      //       count: 2\n+      //     }\n+      //   }\n+      // }\n     }\n   },\n   getters: {\n   },\n"
                },
                {
                    "date": 1688807051169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,10 @@\n         shopName: '', productList: {}\n       }\n       let product = shopInfo.productList[productId]\n       if (!product) {\n+        product = productInfo\n         product.count = 0\n-        product = productInfo\n       }\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n"
                },
                {
                    "date": 1688807128550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,10 @@\n         shopName: '', productList: {}\n       }\n       let product = shopInfo.productList[productId]\n       if (!product) {\n+        productInfo.count = 0\n         product = productInfo\n-        product.count = 0\n       }\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n"
                },
                {
                    "date": 1688807923968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,9 +55,9 @@\n     },\n     // 改变单个商品选中状态\n     changeCartItemChecked(state, payload) {\n       const { shopId, productId } = payload\n-      const product = state.cartList[shopId][productId]\n+      const product = state.cartList[shopId].productList[productId]\n       product.check = !product.check\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n"
                },
                {
                    "date": 1688808221938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n       const { shopId } = payload\n-      state.cartList[shopId] = {}\n+      state.cartList[shopId].productList = {}\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n       const products = state.cartList[shopId]\n"
                },
                {
                    "date": 1688808326368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n       state.cartList[shopId].productList = {}\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n-      const products = state.cartList[shopId]\n+      const products = state.cartList[shopId]?.productList\n       if (products) {\n         for (const i in products) {\n           products[i].check = true\n         }\n"
                },
                {
                    "date": 1689058561291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,10 @@\n import { createStore } from 'vuex'\n \n+const setLocalCartList = (state) => {\n+\n+}\n+\n export default createStore({\n   state: {\n     cartList: {\n       // 第一层级是商铺的id\n"
                },
                {
                    "date": 1689058780276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,31 +1,37 @@\n import { createStore } from 'vuex'\n \n const setLocalCartList = (state) => {\n-\n+  const { cartList } = state\n+  const cartListString = JSON.stringify(cartList)\n+  localStorage.cartList = cartListString\n }\n+const getLocalCartList = () => {\n+  {\n+    // 第一层级是商铺的id\n+    // shopId: {\n+    //   // 第二层是商品的id\n+    //   // 第二层的内容是商品内容以及购物数量\n+    //   shopName: '',\n+    //   productList: {\n+    //     productId: {\n+    //       _id: '1',\n+    //       name: '番茄250g/份',\n+    //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+    //       sales: 10,\n+    //       price: 33.6,\n+    //       oldPrice: 39.6,\n+    //       count: 2\n+    //     }\n+    //   }\n+    // }\n+  }\n+  return JSON.parse(localStorage.cartList) || {}\n+}\n \n export default createStore({\n   state: {\n-    cartList: {\n-      // 第一层级是商铺的id\n-      // shopId: {\n-      //   // 第二层是商品的id\n-      //   // 第二层的内容是商品内容以及购物数量\n-      //   shopName: '',\n-      //   productList: {\n-      //     productId: {\n-      //       _id: '1',\n-      //       name: '番茄250g/份',\n-      //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-      //       sales: 10,\n-      //       price: 33.6,\n-      //       oldPrice: 39.6,\n-      //       count: 2\n-      //     }\n-      //   }\n-      // }\n-    }\n+    cartList: getLocalCartList()\n   },\n   getters: {\n   },\n   mutations: {\n@@ -45,8 +51,9 @@\n       }\n       if (num > 0) { product.check = true }\n       shopInfo.productList[productId] = product\n       state.cartList[shopId] = shopInfo\n+      setLocalCartList(state)\n     },\n     // 设置shopname\n     shangeShopName(state, payload) {\n       const { shopId, shopName } = payload\n@@ -55,19 +62,22 @@\n         productList: {}\n       }\n       shopInfo.shopName = shopName\n       state.cartList[shopId] = shopInfo\n+      setLocalCartList(state)\n     },\n     // 改变单个商品选中状态\n     changeCartItemChecked(state, payload) {\n       const { shopId, productId } = payload\n       const product = state.cartList[shopId].productList[productId]\n       product.check = !product.check\n+      setLocalCartList(state)\n     },\n     // 清空购物车\n     cleanCartProducts(state, payload) {\n       const { shopId } = payload\n       state.cartList[shopId].productList = {}\n+      setLocalCartList(state)\n     },\n     setCartItemsChecked(state, payload) {\n       const { shopId } = payload\n       const products = state.cartList[shopId]?.productList\n@@ -75,8 +85,9 @@\n         for (const i in products) {\n           products[i].check = true\n         }\n       }\n+      setLocalCartList(state)\n     }\n   },\n   actions: {\n   },\n"
                },
                {
                    "date": 1689058797062,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n   const cartListString = JSON.stringify(cartList)\n   localStorage.cartList = cartListString\n }\n const getLocalCartList = () => {\n-  {\n+  // {\n     // 第一层级是商铺的id\n     // shopId: {\n     //   // 第二层是商品的id\n     //   // 第二层的内容是商品内容以及购物数量\n@@ -23,9 +23,9 @@\n     //       count: 2\n     //     }\n     //   }\n     // }\n-  }\n+  // }\n   return JSON.parse(localStorage.cartList) || {}\n }\n \n export default createStore({\n"
                },
                {
                    "date": 1689058809444,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n   localStorage.cartList = cartListString\n }\n const getLocalCartList = () => {\n   // {\n-    // 第一层级是商铺的id\n+  // 第一层级是商铺的id\n     // shopId: {\n     //   // 第二层是商品的id\n     //   // 第二层的内容是商品内容以及购物数量\n     //   shopName: '',\n"
                },
                {
                    "date": 1689058823475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,25 +7,25 @@\n }\n const getLocalCartList = () => {\n   // {\n   // 第一层级是商铺的id\n-    // shopId: {\n-    //   // 第二层是商品的id\n-    //   // 第二层的内容是商品内容以及购物数量\n-    //   shopName: '',\n-    //   productList: {\n-    //     productId: {\n-    //       _id: '1',\n-    //       name: '番茄250g/份',\n-    //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-    //       sales: 10,\n-    //       price: 33.6,\n-    //       oldPrice: 39.6,\n-    //       count: 2\n-    //     }\n-    //   }\n-    // }\n+  // shopId: {\n+  //   // 第二层是商品的id\n+  //   // 第二层的内容是商品内容以及购物数量\n+  //   shopName: '',\n+  //   productList: {\n+  //     productId: {\n+  //       _id: '1',\n+  //       name: '番茄250g/份',\n+  //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+  //       sales: 10,\n+  //       price: 33.6,\n+  //       oldPrice: 39.6,\n+  //       count: 2\n+  //     }\n+  //   }\n   // }\n+  // }\n   return JSON.parse(localStorage.cartList) || {}\n }\n \n export default createStore({\n"
                },
                {
                    "date": 1689059039160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,10 @@\n   //     }\n   //   }\n   // }\n   // }\n-  return JSON.parse(localStorage.cartList) || {}\n+  // return JSON.parse(localStorage.cartList) || {}\n+  return {}\n }\n \n export default createStore({\n   state: {\n"
                },
                {
                    "date": 1689059053705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,10 +24,10 @@\n   //     }\n   //   }\n   // }\n   // }\n-  // return JSON.parse(localStorage.cartList) || {}\n-  return {}\n+  return JSON.parse(localStorage.cartList) || {}\n+  // return {}\n }\n \n export default createStore({\n   state: {\n"
                },
                {
                    "date": 1689059095632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n   //     }\n   //   }\n   // }\n   // }\n-  return JSON.parse(localStorage.cartList) || {}\n+  return {} || JSON.parse(localStorage.cartList)\n   // return {}\n }\n \n export default createStore({\n"
                },
                {
                    "date": 1689133277890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n   //     }\n   //   }\n   // }\n   // }\n-  return {} || JSON.parse(localStorage.cartList)\n+  return JSON.parse(localStorage.cartList) || {}\n   // return {}\n }\n \n export default createStore({\n"
                },
                {
                    "date": 1689157758313,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,8 +45,9 @@\n       if (!product) {\n         productInfo.count = 0\n         product = productInfo\n       }\n+      product.shownum += 1\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n"
                },
                {
                    "date": 1689157924563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,8 +43,9 @@\n       }\n       let product = shopInfo.productList[productId]\n       if (!product) {\n         productInfo.count = 0\n+        productInfo.shownum = 0\n         product = productInfo\n       }\n       product.shownum += 1\n       product.count += num\n"
                },
                {
                    "date": 1689159933848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,12 +43,12 @@\n       }\n       let product = shopInfo.productList[productId]\n       if (!product) {\n         productInfo.count = 0\n-        productInfo.shownum = 0\n+        // productInfo.shownum = 0\n         product = productInfo\n       }\n-      product.shownum += 1\n+      // product.shownum += 1\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n"
                },
                {
                    "date": 1689160110500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n   //     }\n   //   }\n   // }\n   // }\n-  return JSON.parse(localStorage.cartList) || {}\n+  return {} || JSON.parse(localStorage.cartList)\n   // return {}\n }\n \n export default createStore({\n"
                },
                {
                    "date": 1689179910276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n   //     }\n   //   }\n   // }\n   // }\n-  return {} || JSON.parse(localStorage.cartList)\n+  return JSON.parse(localStorage.cartList) || {}\n   // return {}\n }\n \n export default createStore({\n"
                },
                {
                    "date": 1689337077745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,12 +43,13 @@\n       }\n       let product = shopInfo.productList[productId]\n       if (!product) {\n         productInfo.count = 0\n-        // productInfo.shownum = 0\n+        productInfo.number = 0\n         product = productInfo\n       }\n       // product.shownum += 1\n+      \n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n"
                },
                {
                    "date": 1689337342089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n         productInfo.number = 0\n         product = productInfo\n       }\n       // product.shownum += 1\n-      \n+      for (Object.keys(shopInfo.productList))\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n"
                },
                {
                    "date": 1689337357263,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,11 @@\n         productInfo.number = 0\n         product = productInfo\n       }\n       // product.shownum += 1\n-      for (Object.keys(shopInfo.productList))\n+      for (Object.keys(shopInfo.productList)) {\n+        \n+      }\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n"
                },
                {
                    "date": 1689337646139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,15 +47,17 @@\n         productInfo.number = 0\n         product = productInfo\n       }\n       // product.shownum += 1\n-      for (Object.keys(shopInfo.productList)) {\n-        \n-      }\n       product.count += num\n-      if (product.count < 0) {\n-        product.count = 0\n+      for (const key in shopInfo.productList) {\n+        if (shopInfo.productList[key].count < 0) {\n+          delete shopInfo.productList[key]\n+        }\n       }\n+      // if (product.count < 0) {\n+      //   product.count = 0\n+      // }\n       if (num > 0) { product.check = true }\n       shopInfo.productList[productId] = product\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n"
                },
                {
                    "date": 1689337751125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,9 @@\n       }\n       // product.shownum += 1\n       product.count += num\n       for (const key in shopInfo.productList) {\n+        console.log(shopInfo.productList[key])\n         if (shopInfo.productList[key].count < 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n"
                },
                {
                    "date": 1689337810440,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,17 +48,17 @@\n         product = productInfo\n       }\n       // product.shownum += 1\n       product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n       for (const key in shopInfo.productList) {\n         console.log(shopInfo.productList[key])\n-        if (shopInfo.productList[key].count < 0) {\n+        if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      // if (product.count < 0) {\n-      //   product.count = 0\n-      // }\n       if (num > 0) { product.check = true }\n       shopInfo.productList[productId] = product\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n"
                },
                {
                    "date": 1689337855239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,10 @@\n       if (product.count < 0) {\n         product.count = 0\n       }\n       for (const key in shopInfo.productList) {\n-        console.log(shopInfo.productList[key])\n+        // console.log(shopInfo.productList[key])\n+        console.log(shopInfo.productList[key].count)\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n"
                },
                {
                    "date": 1689337883226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,9 @@\n         // console.log(shopInfo.productList[key])\n         console.log(shopInfo.productList[key].count)\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n+          console.log('111')\n         }\n       }\n       if (num > 0) { product.check = true }\n       shopInfo.productList[productId] = product\n"
                },
                {
                    "date": 1689337936159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,15 +52,16 @@\n       if (product.count < 0) {\n         product.count = 0\n       }\n       for (const key in shopInfo.productList) {\n-        // console.log(shopInfo.productList[key])\n-        console.log(shopInfo.productList[key].count)\n+        console.log(shopInfo.productList[key])\n+        // console.log(shopInfo.productList[key].count)\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n           console.log('111')\n         }\n       }\n+      console.log(shopInfo.productList)\n       if (num > 0) { product.check = true }\n       shopInfo.productList[productId] = product\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n"
                },
                {
                    "date": 1689338081077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,12 +52,13 @@\n       if (product.count < 0) {\n         product.count = 0\n       }\n       for (const key in shopInfo.productList) {\n-        console.log(shopInfo.productList[key])\n+        // console.log(shopInfo.productList[key])\n         // console.log(shopInfo.productList[key].count)\n         if (shopInfo.productList[key].count === 0) {\n-          delete shopInfo.productList[key]\n+          // console.log(shopInfo.productList[key])\n+          console.log('222', delete shopInfo.productList[key])\n           console.log('111')\n         }\n       }\n       console.log(shopInfo.productList)\n"
                },
                {
                    "date": 1689338154350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,14 +52,10 @@\n       if (product.count < 0) {\n         product.count = 0\n       }\n       for (const key in shopInfo.productList) {\n-        // console.log(shopInfo.productList[key])\n-        // console.log(shopInfo.productList[key].count)\n         if (shopInfo.productList[key].count === 0) {\n-          // console.log(shopInfo.productList[key])\n-          console.log('222', delete shopInfo.productList[key])\n-          console.log('111')\n+          delete shopInfo.productList[key]\n         }\n       }\n       console.log(shopInfo.productList)\n       if (num > 0) { product.check = true }\n"
                },
                {
                    "date": 1689338340081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,16 +51,21 @@\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n+      // for (const key in shopInfo.productList) {\n+      //   if (shopInfo.productList[key].count === 0) {\n+      //     delete shopInfo.productList[key]\n+      //   }\n+      // }\n+      console.log(shopInfo.productList)\n+      if (num > 0) { product.check = true }\n+      shopInfo.productList[productId] = product\n       for (const key in shopInfo.productList) {\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      console.log(shopInfo.productList)\n-      if (num > 0) { product.check = true }\n-      shopInfo.productList[productId] = product\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n     // 设置shopname\n"
                },
                {
                    "date": 1689338411626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,13 +51,8 @@\n       product.count += num\n       if (product.count < 0) {\n         product.count = 0\n       }\n-      // for (const key in shopInfo.productList) {\n-      //   if (shopInfo.productList[key].count === 0) {\n-      //     delete shopInfo.productList[key]\n-      //   }\n-      // }\n       console.log(shopInfo.productList)\n       if (num > 0) { product.check = true }\n       shopInfo.productList[productId] = product\n       for (const key in shopInfo.productList) {\n"
                },
                {
                    "date": 1689338543434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,8 +59,12 @@\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n+      const n = 0\n+      for (const key in shopInfo.productList) {\n+        shopInfo.productList[key].number = n + 1\n+      }\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n     // 设置shopname\n"
                },
                {
                    "date": 1689338733467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      const n = 0\n+      const n = \n       for (const key in shopInfo.productList) {\n         shopInfo.productList[key].number = n + 1\n       }\n       state.cartList[shopId] = shopInfo\n"
                },
                {
                    "date": 1689338750983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      const n = \n+      const n = Object.keys(shopInfo.productList)\n       for (const key in shopInfo.productList) {\n         shopInfo.productList[key].number = n + 1\n       }\n       state.cartList[shopId] = shopInfo\n"
                },
                {
                    "date": 1689338763016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n         }\n       }\n       const n = Object.keys(shopInfo.productList)\n       for (const key in shopInfo.productList) {\n-        shopInfo.productList[key].number = n + 1\n+        shopInfo.productList[key].number = n - 1\n       }\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n"
                },
                {
                    "date": 1689338804198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,8 +60,9 @@\n           delete shopInfo.productList[key]\n         }\n       }\n       const n = Object.keys(shopInfo.productList)\n+      console.log(n)\n       for (const key in shopInfo.productList) {\n         shopInfo.productList[key].number = n - 1\n       }\n       state.cartList[shopId] = shopInfo\n"
                },
                {
                    "date": 1689338819854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      const n = Object.keys(shopInfo.productList)\n+      const n = Object.keys(shopInfo.productList).length\n       console.log(n)\n       for (const key in shopInfo.productList) {\n         shopInfo.productList[key].number = n - 1\n       }\n"
                },
                {
                    "date": 1689338887026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,10 @@\n       }\n       const n = Object.keys(shopInfo.productList).length\n       console.log(n)\n       for (const key in shopInfo.productList) {\n-        shopInfo.productList[key].number = n - 1\n+        const i = n\n+        shopInfo.productList[key].number = i - 1\n       }\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n"
                },
                {
                    "date": 1689339030104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,110 @@\n+import { createStore } from 'vuex'\n+\n+const setLocalCartList = (state) => {\n+  const { cartList } = state\n+  const cartListString = JSON.stringify(cartList)\n+  localStorage.cartList = cartListString\n+}\n+const getLocalCartList = () => {\n+  // {\n+  // 第一层级是商铺的id\n+  // shopId: {\n+  //   // 第二层是商品的id\n+  //   // 第二层的内容是商品内容以及购物数量\n+  //   shopName: '',\n+  //   productList: {\n+  //     productId: {\n+  //       _id: '1',\n+  //       name: '番茄250g/份',\n+  //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n+  //       sales: 10,\n+  //       price: 33.6,\n+  //       oldPrice: 39.6,\n+  //       count: 2\n+  //     }\n+  //   }\n+  // }\n+  // }\n+  return JSON.parse(localStorage.cartList) || {}\n+  // return {}\n+}\n+\n+export default createStore({\n+  state: {\n+    cartList: getLocalCartList()\n+  },\n+  getters: {\n+  },\n+  mutations: {\n+    changeCartItemInfo(state, payload) {\n+      const { shopId, productId, productInfo, num } = payload\n+      const shopInfo = state.cartList[shopId] || {\n+        shopName: '', productList: {}\n+      }\n+      let product = shopInfo.productList[productId]\n+      if (!product) {\n+        productInfo.count = 0\n+        productInfo.number = 0\n+        product = productInfo\n+      }\n+      // product.shownum += 1\n+      product.count += num\n+      if (product.count < 0) {\n+        product.count = 0\n+      }\n+      console.log(shopInfo.productList)\n+      if (num > 0) { product.check = true }\n+      shopInfo.productList[productId] = product\n+      for (const key in shopInfo.productList) {\n+        if (shopInfo.productList[key].count === 0) {\n+          delete shopInfo.productList[key]\n+        }\n+      }\n+      const n = Object.keys(shopInfo.productList).length\n+      console.log(n)\n+      for (const key in shopInfo.productList) {\n+        shopInfo.productList[key].number =\n+      }\n+      state.cartList[shopId] = shopInfo\n+      setLocalCartList(state)\n+    },\n+    // 设置shopname\n+    shangeShopName(state, payload) {\n+      const { shopId, shopName } = payload\n+      const shopInfo = state.cartList[shopId] || {\n+        shopName: '',\n+        productList: {}\n+      }\n+      shopInfo.shopName = shopName\n+      state.cartList[shopId] = shopInfo\n+      setLocalCartList(state)\n+    },\n+    // 改变单个商品选中状态\n+    changeCartItemChecked(state, payload) {\n+      const { shopId, productId } = payload\n+      const product = state.cartList[shopId].productList[productId]\n+      product.check = !product.check\n+      setLocalCartList(state)\n+    },\n+    // 清空购物车\n+    cleanCartProducts(state, payload) {\n+      const { shopId } = payload\n+      state.cartList[shopId].productList = {}\n+      setLocalCartList(state)\n+    },\n+    setCartItemsChecked(state, payload) {\n+      const { shopId } = payload\n+      const products = state.cartList[shopId]?.productList\n+      if (products) {\n+        for (const i in products) {\n+          products[i].check = true\n+        }\n+      }\n+      setLocalCartList(state)\n+    }\n+  },\n+  actions: {\n+  },\n+  modules: {\n+  }\n+})\n"
                },
                {
                    "date": 1689339046054,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,9 @@\n       }\n       const n = Object.keys(shopInfo.productList).length\n       console.log(n)\n       for (const key in shopInfo.productList) {\n-        shopInfo.productList[key].number =\n+        shopInfo.productList[key].number = n\n       }\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n"
                },
                {
                    "date": 1689339384038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,9 +60,8 @@\n           delete shopInfo.productList[key]\n         }\n       }\n       const n = Object.keys(shopInfo.productList).length\n-      console.log(n)\n       for (const key in shopInfo.productList) {\n         shopInfo.productList[key].number = n\n       }\n       state.cartList[shopId] = shopInfo\n@@ -107,115 +106,4 @@\n   },\n   modules: {\n   }\n })\n-import { createStore } from 'vuex'\n-\n-const setLocalCartList = (state) => {\n-  const { cartList } = state\n-  const cartListString = JSON.stringify(cartList)\n-  localStorage.cartList = cartListString\n-}\n-const getLocalCartList = () => {\n-  // {\n-  // 第一层级是商铺的id\n-  // shopId: {\n-  //   // 第二层是商品的id\n-  //   // 第二层的内容是商品内容以及购物数量\n-  //   shopName: '',\n-  //   productList: {\n-  //     productId: {\n-  //       _id: '1',\n-  //       name: '番茄250g/份',\n-  //       imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n-  //       sales: 10,\n-  //       price: 33.6,\n-  //       oldPrice: 39.6,\n-  //       count: 2\n-  //     }\n-  //   }\n-  // }\n-  // }\n-  return JSON.parse(localStorage.cartList) || {}\n-  // return {}\n-}\n-\n-export default createStore({\n-  state: {\n-    cartList: getLocalCartList()\n-  },\n-  getters: {\n-  },\n-  mutations: {\n-    changeCartItemInfo(state, payload) {\n-      const { shopId, productId, productInfo, num } = payload\n-      const shopInfo = state.cartList[shopId] || {\n-        shopName: '', productList: {}\n-      }\n-      let product = shopInfo.productList[productId]\n-      if (!product) {\n-        productInfo.count = 0\n-        productInfo.number = 0\n-        product = productInfo\n-      }\n-      // product.shownum += 1\n-      product.count += num\n-      if (product.count < 0) {\n-        product.count = 0\n-      }\n-      console.log(shopInfo.productList)\n-      if (num > 0) { product.check = true }\n-      shopInfo.productList[productId] = product\n-      for (const key in shopInfo.productList) {\n-        if (shopInfo.productList[key].count === 0) {\n-          delete shopInfo.productList[key]\n-        }\n-      }\n-      const n = Object.keys(shopInfo.productList).length\n-      console.log(n)\n-      for (const key in shopInfo.productList) {\n-        const i = n\n-        shopInfo.productList[key].number = i - 1\n-      }\n-      state.cartList[shopId] = shopInfo\n-      setLocalCartList(state)\n-    },\n-    // 设置shopname\n-    shangeShopName(state, payload) {\n-      const { shopId, shopName } = payload\n-      const shopInfo = state.cartList[shopId] || {\n-        shopName: '',\n-        productList: {}\n-      }\n-      shopInfo.shopName = shopName\n-      state.cartList[shopId] = shopInfo\n-      setLocalCartList(state)\n-    },\n-    // 改变单个商品选中状态\n-    changeCartItemChecked(state, payload) {\n-      const { shopId, productId } = payload\n-      const product = state.cartList[shopId].productList[productId]\n-      product.check = !product.check\n-      setLocalCartList(state)\n-    },\n-    // 清空购物车\n-    cleanCartProducts(state, payload) {\n-      const { shopId } = payload\n-      state.cartList[shopId].productList = {}\n-      setLocalCartList(state)\n-    },\n-    setCartItemsChecked(state, payload) {\n-      const { shopId } = payload\n-      const products = state.cartList[shopId]?.productList\n-      if (products) {\n-        for (const i in products) {\n-          products[i].check = true\n-        }\n-      }\n-      setLocalCartList(state)\n-    }\n-  },\n-  actions: {\n-  },\n-  modules: {\n-  }\n-})\n"
                },
                {
                    "date": 1689339711797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,10 +60,10 @@\n           delete shopInfo.productList[key]\n         }\n       }\n       const n = Object.keys(shopInfo.productList).length\n-      for (const key in shopInfo.productList) {\n-        shopInfo.productList[key].number = n\n+      for (const key in Object.keys(shopInfo.productList)) {\n+        shopInfo.productList[key].number = key\n       }\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n"
                },
                {
                    "date": 1689339719497,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,8 @@\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      \n       for (const key in Object.keys(shopInfo.productList)) {\n         shopInfo.productList[key].number = key\n       }\n       state.cartList[shopId] = shopInfo\n"
                },
                {
                    "date": 1689339779032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,10 +59,11 @@\n         if (shopInfo.productList[key].count === 0) {\n           delete shopInfo.productList[key]\n         }\n       }\n-      for (const key in Object.keys(shopInfo.productList)) {\n-        shopInfo.productList[key].number = key\n+      const n = Object.keys(shopInfo.productList)\n+      for (const key in n) {\n+        shopInfo.productList[n[key]].number = key\n       }\n       state.cartList[shopId] = shopInfo\n       setLocalCartList(state)\n     },\n"
                }
            ],
            "date": 1686103368769,
            "name": "Commit-0",
            "content": "import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cartList: {\n      shopId: {\n        productId: {\n          \n        }\n      }\n    }\n  },\n  getters: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"
        }
    ]
}